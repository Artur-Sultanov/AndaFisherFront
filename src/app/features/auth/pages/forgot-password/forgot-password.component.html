<div class="auth-container">
  <h2>Forgot Password</h2>
  <p class="lead">
    Enter the email associated with your account and we will send you reset
    instructions.
  </p>

  <form [formGroup]="requestForm" (ngSubmit)="onSubmit()" *ngIf="!submitted">
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" required />
    <div
      *ngIf="requestForm.get('email')?.invalid && requestForm.get('email')?.touched"
      class="error"
    >
      <small>⚠️ Enter a valid email address</small>
    </div>

    <button type="submit" [disabled]="requestForm.invalid || isSubmitting">
      {{ isSubmitting ? 'Sending…' : 'Send reset link' }}
    </button>

    <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
  </form>

  <div class="confirmation" *ngIf="submitted">
    <p>✅ If an account exists for this email, a reset link is on the way.</p>
    <p>Please check your inbox and follow the instructions to reset your password.</p>
  </div>

  <p class="auth-link">
    Remembered your password?
    <a routerLink="/auth/login">Return to login</a>
  </p>
</div>
