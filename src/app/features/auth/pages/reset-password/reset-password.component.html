<div class="auth-container">
  <h2>Reset Your Password</h2>
  <p class="lead" *ngIf="!resetComplete">
    Choose a new password for your account. Make sure it is something secure and
    easy for you to remember.
  </p>

  <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" *ngIf="!resetComplete">
    <label for="password">New Password</label>
    <input id="password" type="password" formControlName="password" required />
    <div
      *ngIf="
        resetForm.get('password')?.invalid && resetForm.get('password')?.touched
      "
      class="error"
    >
      <small>⚠️ Password must be at least 6 characters long</small>
    </div>

    <label for="confirmPassword">Confirm Password</label>
    <input
      id="confirmPassword"
      type="password"
      formControlName="confirmPassword"
      required
    />
    <div
      *ngIf="
        resetForm.get('confirmPassword')?.invalid &&
        resetForm.get('confirmPassword')?.touched
      "
      class="error"
    >
      <small>⚠️ Please confirm your new password</small>
    </div>

    <button type="submit" [disabled]="resetForm.invalid || isSubmitting">
      {{ isSubmitting ? 'Updating…' : 'Update password' }}
    </button>

    <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
  </form>

  <div class="confirmation" *ngIf="resetComplete">
    <p>✅ Your password has been updated successfully.</p>
    <button type="button" (click)="returnToLogin()">Return to login</button>
  </div>

  <p class="auth-link" *ngIf="!resetComplete">
    Remembered your password?
    <a routerLink="/auth/login">Back to login</a>
  </p>
</div>
